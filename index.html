<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title class="title">Wintor Tracking System</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/Mystyles.css">
	<link rel="icon" href="assets/img/logo-wintor.ico" type="image/ico">
</head>

<body>
    <nav class="navbar navbar-custom">
    <div class="container">
        <div class="navbar-header"><a class="navbar-brand navbar-link" href="#"><img class="img-responsive" style="float:left; height:50px; width:65px;" src="assets/img/logo-wintor.png"></a>

        </div>
        <div class="navbar-header"><h2>Wintor Tracking System</h2>
          </div>
        <div class="navbar-collapse" id="navcol-1">
            <ul class="nav navbar-nav navbar-right">
                <li role="presentation" class="active"><a href="http://www.astra-otoparts.com/product.asp?cat=1000978&lang=EL"><h4>Locate your Wintor all times</h4></a></li>
            </ul>
        </div>
    </div>
</nav>
    <div class="col-md-6">

  <div class="panel-group" id="accordion">
  
    <div class="panel panel-default">
      <div class="panel-heading">
        <b class="panel-title">
          <center><a class="panel0" data-toggle="collapse" data-parent="#accordion" href="#collapse1">Wintor Unit 1</a></center>
        </b>
      </div>
      <div id="collapse1" class="panel-collapse collapse">
        <div class="panel-body">
    
			<table id="table0" class="table">
			<thead>
			<tr>
				<th>Fuel Level</th>
				<th>Total Production/Day</th>
				<th>Operation Time</th>
				<th>Last Maintenance</th>
			</tr>
			</thead>
			<tbody>
			<tr>
				<td>0%</td>
				<td>0 items</td>
				<td>0 hours</td>
				<td>00/00/0000</td>
			</tr>
			</tbody>
			</table>
  
		</div>
		
	   </div>
    </div>
	
	
    <div class="panel panel-default">
      <div class="panel-heading">
        <b class="panel-title">
          <center><a class="panel1" data-toggle="collapse" data-parent="#accordion" href="#collapse2">Wintor Unit 2</a></center>
        </b>
      </div>
      <div id="collapse2" class="panel-collapse collapse">
        <div class="panel-body">
          
			<table id="table1" class="table">
			<thead>
			<tr>
				<th>Fuel Level</th>
				<th>Total Production/Day</th>
				<th>Operation Time</th>
				<th>Last Maintenance</th>
			</tr>
			</thead>
			<tbody>
			<tr>
				<td>0%</td>
				<td>0 items</td>
				<td>0 hours</td>
				<td>00/00/0000</td>
			</tr>
			</tbody>
			</table>
		</div>
          
      </div>
    </div>
	
	
    <div class="panel panel-default">
      <div class="panel-heading">
        <b class="panel-title">
          <center><a class="panel2"  data-toggle="collapse" data-parent="#accordion" href="#collapse3">Wintor Unit 3</a></center>
        </b>
      </div>
      <div id="collapse3" class="panel-collapse collapse">
        <div class="panel-body">
            
        
			<table id="table2" class="table">
			<thead>
			<tr>
				<th>Fuel Level</th>
				<th>Total Production/Day</th>
				<th>Operation Time</th>
				<th>Last Maintenance</th>
			</tr>
			</thead>
			<tbody>
			<tr>
				<td>0%</td>
				<td>0 items</td>
				<td>0 hours</td>
				<td>00/00/0000</td>
			</tr>
			</tbody>
			</table>
		</div>         
      </div>
    </div>
	
    </div>

 
<p>Date: <span id="demonew"></span> Time: <span id="demo"></span> </p>
	<span id="demo"></span>
		<script>
		var today = new Date();
		var dd = today.getDate();
		var mm = today.getMonth()+1; //January is 0!
		var yyyy = today.getFullYear();
		if(dd<10) {
		dd='0'+dd
		} 
		
		if(mm<10) {
		mm='0'+mm
		} 

		today = mm+'/'+dd+'/'+yyyy;
		document.getElementById("demonew").innerHTML = today;
		var myVar=setInterval(function(){myTimer()},1000);
		
		function myTimer() {
			var d = new Date();
			document.getElementById("demo").innerHTML = d.toLocaleTimeString();
		}
		</script>

		
</div>

 
 
 
    <div class="col-md-6">
    <div class="column content" id="map" style="float:right;width:100%;height:480px;">
    </div>
<script>


        function initMap() {
		
        var map = new google.maps.Map(document.getElementById('map'), {
          center: new google.maps.LatLng(-0.515129, 110.597476),
		  
          zoom: 5,
		  styles:[
			{
				"featureType": "administrative",
				"elementType": "labels.text.fill",
				"stylers": [
					{
						"color": "#6195a0"
					}
				]
			},
			{
				"featureType": "administrative.locality",
				"elementType": "labels.text.fill",
				"stylers": [
					{
						"color": "#ff6200"
					}
				]
			},
			
			{
				"featureType": "administrative.neighborhood",
				"elementType": "labels.text.fill",
				"stylers": [
					{
						"color": "#ff0000"
					}
			]
			},
			
			{
				"featureType": "landscape",
				"elementType": "all",
				"stylers": [
					{
					"color": "#f2f2f2"
					}
				]
			},
			
			{
				"featureType": "landscape",
				"elementType": "labels.text.fill",
				"stylers": [
					{
						"color": "#ff6200"
					}
				]
			},
			
			{
				"featureType": "landscape",
				"elementType": "geometry.fill",
				"stylers": [
					{
						"color": "#f3f1e7"
					}
				]
			},
			
			{
				"featureType": "poi",
				"elementType": "all",
				"stylers": [
					{
						"visibility": "off"
					}	
				]
			},
			
			{
				"featureType": "poi.government",
				"elementType": "labels.text.fill",
				"stylers": [
					{
						"color": "#ffffff"
					}
				]
			},
			{
				"featureType": "poi.park",
				"elementType": "geometry.fill",
				"stylers": [
					{
						"color": "#e6f3d6"
					},
					{
						"visibility": "on"
					}
				]
			},
			{
				"featureType": "road",
				"elementType": "all",
				"stylers": [
					{
						"saturation": -100
					},
					{
						"lightness": 45
					},
					{
						"visibility": "simplified"
					}
				]
			},
			{
				"featureType": "road",
				"elementType": "geometry.fill",
				"stylers": [
					{
						"color": "#ff0000"
					}
				]
			},
			{
				"featureType": "road",
				"elementType": "labels.text.fill",
				"stylers": [
					{
						"color": "#8f8f8f"
					}
				]
			},
			{
				"featureType": "road",
				"elementType": "labels.icon",
				"stylers": [
					{
						"visibility": "off"
					}
				]
			},
			{
				"featureType": "road.highway",
				"elementType": "all",
				"stylers": [
					{
						"visibility": "simplified"
					}
				]
			},
			{
				"featureType": "road.highway",
				"elementType": "geometry.fill",
				"stylers": [
					{
						"color": "#ffffff"
					},
					{
						"visibility": "simplified"
					}
				]
			},
			{
				"featureType": "road.highway",
				"elementType": "labels.text",
				"stylers": [
					{
						"color": "#4e4e4e"
					}
				]
			},
			{
				"featureType": "road.highway",
				"elementType": "labels.text.fill",
				"stylers": [
					{
						"color": "#8f8f8f"
					}
				]
			},
			{
				"featureType": "road.highway",
				"elementType": "labels.text.stroke",
				"stylers": [
					{
						"color": "#ffffff"
					}
				]
			},
			{
				"featureType": "road.highway",
				"elementType": "labels.icon",
				"stylers": [
					{
						"visibility": "off"
					}
				]
			},
			{
				"featureType": "road.highway.controlled_access",
				"elementType": "geometry.fill",
				"stylers": [
					{
						"color": "#ff0000"
					}
				]
			},
			{
				"featureType": "road.arterial",
				"elementType": "geometry.fill",
				"stylers": [
					{
						"color": "#ffffff"
					}
				]
			},
			{
				"featureType": "road.arterial",
				"elementType": "labels.text.fill",
				"stylers": [
					{
						"color": "#787878"
					}
				]
			},
			{
				"featureType": "road.arterial",
				"elementType": "labels.icon",
				"stylers": [
					{
						"visibility": "off"
					}
				]
			},
			{
				"featureType": "road.local",
				"elementType": "geometry.fill",
				"stylers": [
					{
						"color": "#ffffff"
					}
				]
			},
			{
				"featureType": "transit",
				"elementType": "all",
				"stylers": [
					{
						"visibility": "off"
					}
				]
			},
			{
				"featureType": "water",
				"elementType": "all",
				"stylers": [
					{
						"color": "#95d2d9"
					},
					{
						"visibility": "on"
					}
				]
			},
			{	
				"featureType": "water",
				"elementType": "geometry.fill",
				"stylers": [
					{
						"color": "#95d2d9"
					}
				]
			}
		]
        });
        var infoWindow = new google.maps.InfoWindow;
		var markerImage = "http://localhost/wintorWeb/assets/img/Wintor-Marker.png";
		// Change this depending on the name of your PHP or XML file
		
          downloadUrl("assets/php/locator.php", function(data) {
            var xml = data.responseXML;
            var markers = xml.documentElement.getElementsByTagName('marker');
			
			var txt = "";
			var i = 0;
			for (i = 0; i < markers.length; i++)
			{
				var x = document.getElementById("table"+i).rows[1].cells;
				txt = markers[i].getAttribute('Fuel');
				x[0].innerHTML = txt + (" %");
				txt = markers[i].getAttribute('Production_per_Day');
				x[1].innerHTML = txt + (" items");
				txt = markers[i].getAttribute('Operation_Time');
				x[2].innerHTML = txt + (" hours");
				txt = markers[i].getAttribute('Last_Maintenance');
				x[3].innerHTML = txt;
			}
			
			
            Array.prototype.forEach.call(markers, function(markerElem) {
              var id = markerElem.getAttribute('id');
              var name = markerElem.getAttribute('name');
              var info = markerElem.getAttribute('info');
              var number = markerElem.getAttribute('number');
			  var lat = parseFloat(markerElem.getAttribute('lat'));
			  var lng = parseFloat(markerElem.getAttribute('lng'));
              var point = new google.maps.LatLng(lat,lng);
			  var Last_Update = markerElem.getAttribute('Last_Update');

			  
              var infowincontent = document.createElement('div');
              var strong = document.createElement('strong');
              strong.textContent = name
              infowincontent.appendChild(strong);
              infowincontent.appendChild(document.createElement('br'));
			  
			  var infoText = document.createElement('text');
			  infoText.textContent = info;
			  infowincontent.appendChild(infoText);
              infowincontent.appendChild(document.createElement('br'));
			  
			  var pointText = document.createElement('text');
			  pointText.textContent = "Lat,Lng : "+lat+ ", " +lng;
			  infowincontent.appendChild(pointText);
			  infowincontent.appendChild(document.createElement('br'));
			  
			  var updateText = document.createElement('text');
			  updateText.textContent = "Last Update : "+ Last_Update;
			  infowincontent.appendChild(updateText);
			  infowincontent.appendChild(document.createElement('br'));
			  
			  
			  
              var marker = new google.maps.Marker({
                map: map,
				animation: google.maps.Animation.DROP,
                position: point,
				icon: markerImage
              });
              marker.addListener('click', function() {
				
                infoWindow.setContent(infowincontent);
                infoWindow.open(map, marker);
				
              });
            });
          });
        }
	
	


      function downloadUrl(url, callback) {
        var request = window.ActiveXObject ?
            new ActiveXObject('Microsoft.XMLHTTP') :
            new XMLHttpRequest;

        request.onreadystatechange = function() {
          if (request.readyState == 4) {
            request.onreadystatechange = doNothing;
            callback(request, request.status);
          }
        };

        request.open('GET', url, true);
        request.send(null);
      }

      function doNothing() {}
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDRA4r9AY-vwt23asnISIY7Nk5ePa323yc&callback=initMap">
    </script>
</div>
    <div class="col-sm-12 col-xs-12">
<p><nav class="navbar navbar-default">
        <div class="navbar-collapse" id="navcol-5">
            <div class="container">
        <div class="navbar-header"><a class="navbar-brand navbar-link" href="#" style="padding-left: 0px!important">
        <img class="img-responsive" style="float:left; height:30px;" src="assets/img/download.png"></a>
        </div>
    
            <ul class="nav navbar-right">
                <li role="presentation" class="active"><a href="#"><h5>AOP Winteq © 2017</h5></a></li>
            </ul>
        </div>
    </div>
</nav>
</div>
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
</body>

</html>